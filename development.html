<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>nanomsg</title>
  <style>
  body {font-family:sans-serif;} 
  #toplist {
    padding-left: 0px;
  }
  #toplist li {
    display: inline;
    list-style-type: none;
    padding-right: 15px;
  }
  a {color:#000000;}
  </style>
</head>
<body>
<div style="width:50em">

<img src="logo.png">

<b>
<ul id='toplist'>
<li><a href="index.html">Home</a></li>
<li>Download</li>
<li><a href="documentation.html">Documentation</a></li>
<li><a href="development.html">Development</a></li>
<li><a href="community.html">Community</a></li>
<li><a href="http://www.250bpm.com/services">Support</a></li>
</ul>
</b>

<h3>Source code</h3>

<p>Source code of nanomsg library is hosted on GitHub:</p>
<p><a href="https://github.com/250bpm/nanomsg">https://github.com/250bpm/nanomsg</a></p>

<p>Source code of this website is located in gh-pages branch:</p>
<p><a href="https://github.com/250bpm/nanomsg/tree/gh-pages">https://github.com/250bpm/nanomsg/tree/gh-pages</a></p>

<h3>Build</h3>

<p>First, you have to have CMake installed. Once that is done following sequence of steps will build the library and related utilities:</p>

<pre>
$ git clone git@github.com:250bpm/nanomsg.git
$ cd nanomsg
$ mkdir build
$ cd build
$ cmake ..
$ make
$ make check
$ sudo make install
</pre>

<p>To build a version with debug info use the following command instead of "cmake .." step:

<pre>
$ cmake -DCMAKE_BUILD_TYPE=Debug ..
</pre>

<p>On Windows, follow the above steps until cmake step is done. Then use MSVC2010 to open and build the nanomsg solution located in on build subdirectory.</p>

<p>To build the documentation (man pages and HTML reference) you need asciidoc and xmlto installed. Once done, run "make doc" command in the build subdirectory.</p>

<h3>Auto-builds</h3>

Auto-builds are run every time the project is updated. The results can be found here:
<p><a href="http://build.nanomsg.org/waterfall">http://build.nanomsg.org/waterfall</a></p>

<h3>Bug tracker</h3>

<p>Use GitHub bug tracker to report problems with nanomsg:</p>
<p><a href="https://github.com/250bpm/nanomsg/issues">https://github.com/250bpm/nanomsg/issues</a></p>

<h3>Contributing</h3>

<p>To contribute to nanomsg project send your patch to the mailing list or, alternatively, send a GitHub pull request. In either case you have to state that your patch is submitted under MIT/X11 license, so that we can incorporate it into the mainline codebase.</p>

<p>If you make a substantial contribution to a file, add your copyright to the file header. Irrespective of whether you do so, your name will be added to the AUTHORS file to indicate you own copyright to a part of the codebase.</p>

<h3>Coding style</h3>

<h5>General rules</h5>

<ul>
<li>Maximal line length is limited to 80 characters.</li>
<li>If a statement has to be broken into two lines, second (and any subsequent) line should be indented by one level.</li>
<li>Indentation is always done using spaces, tabs are never used.</li>
<li>One level of indentation is 4 characters long.</li>
<li>Each file starts with a header containing the copyrights and the short license text.</li>
</ul>

<h5>Comments</h5>

<ul>
<li>Comment starts with /* followed by two spaces.</li>
<li>Each new line of the comment starts with 4 spaces (one level of identation).</li>
<li>Last line of comment is closed by a space followed by */</li>
<li>The text of comment should begin with a capital letter and ends by a period.</li>
<li>Code should be broken to small pieces (couple of lines each), every piece doing one simple task.</li>
<li>Each piece should be preceded by a comment explaining what is its intent.</li>
<li>Each code piece should be followed by a blank line.</li>
</ul>

<h5>Identifiers</h5>

<ul>
<li>Function, struct and variable names are in lower case. Constants and macros are in upper case.</li>
<li>If identifier consists of multiple words, the words are separated by underscores.</li>
<li>No hungarian notation: The type of the variable or its scope should not be explicitly marked in the identifier.</li>
<li>Are globally visible identifiers and identifiers local to file (static) are prefixed by 'nn_'. Identifiers local to function require no prefix.</li>
<li>Identifiers should be meaningful rather than arbitrary, altgough they may be shortened (e.g. sock instead of socket). The only exception are local variables with very limited scope, e.g. control variable for a short cycle may be named 'i'.</li>
</ul>

<h5>Code blocks</h5>

<ul>
<li>Opening bracket is put on the same line with conditional statement, struct definition etc.</li>
<li>The only exception to the above rule are functions where opening bracket is put on new line.</li>
<li>Even a single-statement block with no brackets should be placed on a separate line.</li>
<li>If the indenting of the controlled block incidentally collides with the control statement that's broken into two lines, second and any subsequent line of the control statement should be indented by 6 spaces rather than 4 to prevent confusion.</li>
</ul>

<h5>Operators</h5>

<ul>
<li>Unary operators are not separated from the expression in any way.</li>
<li>Binary operators should be separated from adjacent expression by spaces.</li>
<li>Subscripts and function calls are separated from the expression by space.</li>
</ul>

<h5>Error handling</h5>

<ul>
<li>Use assertion where you don't expect the situation to happen. I.e. it only happens if there is a bug in the library. Use assertion generously.</li>
<li>Return an error where the condition can happen even if there's no bug in the library.</li>
<li>Returned error code should be always handled by the caller, even if it just means asserting that the function finished all right.</li>
<li>Except for public API of nanomsg library which uses POSIX-style errors (return code + errno), all functions either have no return value (where error is not expected) or return 'int'. In the latter case negative values should be treated as errors (-EAGAIN etc.)</li>
</ul>

<h5>Objects</h5>

<ul>
<li>Although nanomsg is written in C, it's designed in object-oriented way.</li>
<li>Each class should be defined in its own header and source file.</li>
<li>Classes are defined as raw structs. No typedefs are used.</li>
<li>Names of all the functions of the class are prefixed by the class name.</li>
<li>First argument in the class function should be pointer to the class. The argument should be called 'self'. This rule doesn't apply for singleton classes.</li>
<li>'init' function initialises the object, but does not allocate it.</li>
<li>'term' function terminates the object, but does not deallocate it.</li>
</ul>

</div>
</body>
</html>
